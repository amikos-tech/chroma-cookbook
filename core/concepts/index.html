
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://cookbook.chromadb.dev/core/concepts/">
      
      
        <link rel="prev" href="../collections/">
      
      
        <link rel="next" href="../configuration/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.2">
    
    
      
        <title>Concepts - Chroma Cookbook</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/ethicalads.css">
    
      <link rel="stylesheet" href="../../stylesheets/concepts-flow.css">
    
      <link rel="stylesheet" href="../../stylesheets/custom.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-FZFKK5FLEY"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-FZFKK5FLEY",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-FZFKK5FLEY",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
  

    
    
  
  <script async src="https://media.ethicalads.io/media/client/ethicalads.min.js"></script>

  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#concepts" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://www.trychroma.com" title="Chroma Cookbook" class="md-header__button md-logo" aria-label="Chroma Cookbook" data-md-component="logo">
      
  <img src="../../assets/images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Chroma Cookbook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Concepts
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/amikos-tech/chroma-cookbook" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
  
  <div class="md-grid mdx-ethicalads-container">
    <div
      id="cookbook-stickybox"
      class="raised"
      data-ea-publisher="chromadbdev"
      data-ea-type="image"
      data-ea-style="stickybox"
      data-ea-placement-bottom="56px"
    ></div>
  </div>

      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://www.trychroma.com" title="Chroma Cookbook" class="md-nav__button md-logo" aria-label="Chroma Cookbook" data-md-component="logo">
      
  <img src="../../assets/images/logo.png" alt="logo">

    </a>
    Chroma Cookbook
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/amikos-tech/chroma-cookbook" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Get Cooking
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Contributing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started with Contributing to Chroma
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/useful-shortcuts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Useful Shortcuts for Contributors
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Core
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Core
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chroma API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../clients/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chroma Clients
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../collections/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Collections
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Concepts
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Concepts
  

    
  </span>
  
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#for-general-users" class="md-nav__link">
    <span class="md-ellipsis">
      
        For General Users
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="For General Users">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tenancy-and-db-hierarchies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tenancy and DB Hierarchies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tenants" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tenants
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#databases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Databases
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collections" class="md-nav__link">
    <span class="md-ellipsis">
      
        Collections
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#documents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Documents
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metadata" class="md-nav__link">
    <span class="md-ellipsis">
      
        Metadata
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#embedding-function" class="md-nav__link">
    <span class="md-ellipsis">
      
        Embedding Function
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#embeddings" class="md-nav__link">
    <span class="md-ellipsis">
      
        Embeddings
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distance-function" class="md-nav__link">
    <span class="md-ellipsis">
      
        Distance Function
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-data-flows-through-chroma-cloud-distributed-chroma" class="md-nav__link">
    <span class="md-ellipsis">
      
        How Data Flows Through Chroma Cloud (Distributed Chroma)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#for-power-users" class="md-nav__link">
    <span class="md-ellipsis">
      
        For Power Users
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="For Power Users">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#execution-paths-code-backed" class="md-nav__link">
    <span class="md-ellipsis">
      
        Execution Paths (Code-Backed)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distributed-architecture-main-services" class="md-nav__link">
    <span class="md-ellipsis">
      
        Distributed Architecture (Main Services)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main-primitives-and-index-families" class="md-nav__link">
    <span class="md-ellipsis">
      
        Main Primitives and Index Families
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spann-in-distributed-chroma" class="md-nav__link">
    <span class="md-ellipsis">
      
        SPANN in Distributed Chroma
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#blockfile-format-and-update-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        Blockfile Format and Update Model
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compaction-and-registration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Compaction and Registration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#garbage-collection-index-files-wal" class="md-nav__link">
    <span class="md-ellipsis">
      
        Garbage Collection (Index Files + WAL)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../document-ids/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Document IDs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../filters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Filters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resource Requirements
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../storage-layout/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Storage Layout
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../system_constraints/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chroma System Constraints
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tenants-and-databases/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tenants and Databases
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_14" >
        
          
          <label class="md-nav__link" for="__nav_3_14" id="__nav_3_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Advanced
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    Advanced
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/queries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chroma Queries
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/wal-pruning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Write-ahead Log (WAL) Pruning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/wal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Write-ahead Log (WAL)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Ecosystem
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Ecosystem
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ecosystem/clients/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chroma Ecosystem Clients
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Embeddings
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Embeddings
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../embeddings/bring-your-own-embeddings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Creating your own embedding function
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../embeddings/cross-encoders/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cross-Encoders Reranking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../embeddings/embedding-models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Embedding Models
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../embeddings/gpu-support/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Embedding Functions GPU Support
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../faq/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Faq
  

    
  </span>
  
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Faq
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Integrations
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Integrations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../integrations/langchain/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Langchain
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7_1" id="__nav_7_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Langchain
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/langchain/embeddings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Langchain Embeddings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/langchain/retrievers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ü¶ú‚õìÔ∏è Langchain Retriever
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../integrations/llamaindex/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Llamaindex
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Llamaindex
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/llamaindex/embeddings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LlamaIndex Embeddings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../integrations/ollama/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Ollama
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Ollama
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/ollama/embeddings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ollama
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Running
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Running
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../running/deployment-patterns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Deployment Patterns
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../running/health-checks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Health Checks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../running/maintenance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Maintenance
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../running/performance-tips/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Performance Tips
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../running/road-to-prod/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Road To Production
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../running/running-chroma/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Running Chroma
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../running/systemd-service/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Systemd service
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../security/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Security
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9" id="__nav_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Security
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/auth-1.0.x/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authentication in Chroma v1.0.x
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/chroma-ssl-cert/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SSL/TLS Certificates in Chroma
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/legacy-auth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chroma-native Auth (Legacy)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/ssl-proxies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SSL/TLS Proxy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Strategies
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Strategies
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../strategies/backup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ChromaDB Backups
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../strategies/batching/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Batching
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../strategies/cors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CORS Configuration for Browser-Based Access
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../strategies/keyword-search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Keyword Search
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../strategies/memory-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Memory Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../strategies/multi-category-filters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multi-Category/Tag Filters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../strategies/privacy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Privacy Strategies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../strategies/rebuilding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rebuilding Chroma DB
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../strategies/time-based-queries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Time-based Queries
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_10" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../strategies/multi-tenancy/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Multi tenancy
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_10" id="__nav_10_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Multi tenancy
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../strategies/multi-tenancy/authorization-model-impl-with-openfga/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Implementing OpenFGA Authorization Model In Chroma
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../strategies/multi-tenancy/authorization-model-with-openfga/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chroma Authorization Model with OpenFGA
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../strategies/multi-tenancy/multi-user-basic-auth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multi-User Basic Auth
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../strategies/multi-tenancy/naive-multi-tenancy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Naive Multi-tenancy Strategies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#for-general-users" class="md-nav__link">
    <span class="md-ellipsis">
      
        For General Users
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="For General Users">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tenancy-and-db-hierarchies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tenancy and DB Hierarchies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tenants" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tenants
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#databases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Databases
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collections" class="md-nav__link">
    <span class="md-ellipsis">
      
        Collections
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#documents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Documents
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metadata" class="md-nav__link">
    <span class="md-ellipsis">
      
        Metadata
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#embedding-function" class="md-nav__link">
    <span class="md-ellipsis">
      
        Embedding Function
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#embeddings" class="md-nav__link">
    <span class="md-ellipsis">
      
        Embeddings
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distance-function" class="md-nav__link">
    <span class="md-ellipsis">
      
        Distance Function
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-data-flows-through-chroma-cloud-distributed-chroma" class="md-nav__link">
    <span class="md-ellipsis">
      
        How Data Flows Through Chroma Cloud (Distributed Chroma)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#for-power-users" class="md-nav__link">
    <span class="md-ellipsis">
      
        For Power Users
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="For Power Users">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#execution-paths-code-backed" class="md-nav__link">
    <span class="md-ellipsis">
      
        Execution Paths (Code-Backed)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distributed-architecture-main-services" class="md-nav__link">
    <span class="md-ellipsis">
      
        Distributed Architecture (Main Services)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main-primitives-and-index-families" class="md-nav__link">
    <span class="md-ellipsis">
      
        Main Primitives and Index Families
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spann-in-distributed-chroma" class="md-nav__link">
    <span class="md-ellipsis">
      
        SPANN in Distributed Chroma
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#blockfile-format-and-update-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        Blockfile Format and Update Model
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compaction-and-registration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Compaction and Registration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#garbage-collection-index-files-wal" class="md-nav__link">
    <span class="md-ellipsis">
      
        Garbage Collection (Index Files + WAL)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="concepts">Concepts<a class="headerlink" href="#concepts" title="Permanent link">&para;</a></h1>
<p>This page has two tracks:</p>
<ul>
<li><a href="#for-general-users">For General Users</a></li>
<li><a href="#for-power-users">For Power Users</a></li>
</ul>
<h2 id="for-general-users">For General Users<a class="headerlink" href="#for-general-users" title="Permanent link">&para;</a></h2>
<h3 id="tenancy-and-db-hierarchies">Tenancy and DB Hierarchies<a class="headerlink" href="#tenancy-and-db-hierarchies" title="Permanent link">&para;</a></h3>
<p>The following picture illustrates the tenancy and DB hierarchy in Chroma:</p>
<p><img alt="Tenancy and DB Hierarchy" src="../../assets/images/chroma-tenancy-hierarchy.png" /></p>
<div class="admonition warn">
<p class="admonition-title">Storage</p>
<p>In Chroma single-node, all data about tenancy, databases, collections and documents is stored in a single SQLite database.</p>
</div>
<h3 id="tenants">Tenants<a class="headerlink" href="#tenants" title="Permanent link">&para;</a></h3>
<p>A tenant is a logical grouping for a set of databases. A tenant is designed to model a single organization or user. A tenant can have multiple databases.</p>
<h3 id="databases">Databases<a class="headerlink" href="#databases" title="Permanent link">&para;</a></h3>
<p>A database is a logical grouping for a set of collections. A database is designed to model a single application or project. A database can have multiple collections.</p>
<h3 id="collections">Collections<a class="headerlink" href="#collections" title="Permanent link">&para;</a></h3>
<p>Collections are the grouping mechanism for embeddings, documents, and metadata.</p>
<h3 id="documents">Documents<a class="headerlink" href="#documents" title="Permanent link">&para;</a></h3>
<div class="admonition note">
<p class="admonition-title">Chunks of text</p>
<p>Documents in ChromaDB lingo are chunks of text that fit within the embedding model's context window.
Unlike other frameworks that use the term "document" to mean a file, ChromaDB uses the term "document" to mean a chunk of text.</p>
</div>
<p>Documents are raw chunks of text that are associated with an embedding. Documents are stored in the database and can be queried.</p>
<h3 id="metadata">Metadata<a class="headerlink" href="#metadata" title="Permanent link">&para;</a></h3>
<p>Metadata is a dictionary of key-value pairs associated with an embedding.</p>
<p>Metadata values can be:</p>
<ul>
<li>strings</li>
<li>integers</li>
<li>floats (<code>float32</code>)</li>
<li>booleans</li>
<li>arrays of strings, integers, floats, or booleans (<code>Chroma &gt;= 1.5.0</code>)</li>
</ul>
<p>Array metadata constraints:</p>
<ul>
<li>all elements must be the same type</li>
<li>empty arrays are not allowed</li>
<li>nested arrays are not supported</li>
</ul>
<p>See <a href="../filters/#array-metadata">Array Metadata</a> for examples with <code>$contains</code> / <code>$not_contains</code>.</p>
<p>Runnable filter examples:</p>
<ul>
<li><a href="https://github.com/amikos-tech/chroma-cookbook/blob/main/examples/filtering/python/filter_examples.py">Python</a></li>
<li><a href="https://github.com/amikos-tech/chroma-cookbook/blob/main/examples/filtering/typescript/filter_examples.ts">TypeScript</a></li>
<li><a href="https://github.com/amikos-tech/chroma-cookbook/blob/main/examples/filtering/rust/src/main.rs">Rust</a></li>
</ul>
<h3 id="embedding-function">Embedding Function<a class="headerlink" href="#embedding-function" title="Permanent link">&para;</a></h3>
<p>Embedding functions (embedding models) expose a consistent interface for generating vectors from documents or queries.</p>
<p>See Chroma's official <a href="https://docs.trychroma.com/integrations#%F0%9F%A7%AC-embedding-integrations">embedding integrations</a>.</p>
<h3 id="embeddings">Embeddings<a class="headerlink" href="#embeddings" title="Permanent link">&para;</a></h3>
<p>An embedding is a vector representation of a document, typically a list of <code>float32</code> values.</p>
<h3 id="distance-function">Distance Function<a class="headerlink" href="#distance-function" title="Permanent link">&para;</a></h3>
<p>Distance functions define similarity between vectors:</p>
<ul>
<li>Cosine: common for semantic text similarity</li>
<li>Euclidean (<code>l2</code>): geometric distance</li>
<li>Inner Product (<code>ip</code>): common in recommendation-like scenarios</li>
</ul>
<h3 id="how-data-flows-through-chroma-cloud-distributed-chroma">How Data Flows Through Chroma Cloud (Distributed Chroma)<a class="headerlink" href="#how-data-flows-through-chroma-cloud-distributed-chroma" title="Permanent link">&para;</a></h3>
<p>The animated flows below model Chroma Cloud / distributed Chroma, where gateway, WAL, compaction, and query execution are separate services. In local or single-node deployments, the same logical stages still apply but are often co-located in one process.</p>
<h4 id="write-path-add-update-upsert-delete">Write Path (Add / Update / Upsert / Delete)<a class="headerlink" href="#write-path-add-update-upsert-delete" title="Permanent link">&para;</a></h4>
<div class="concept-flow-card">
  <div class="concept-flow-header">
    <span class="concept-flow-title">Write Path</span>
    <span class="concept-flow-badge">Cloud/distributed: durable first, indexed asynchronously</span>
  </div>
  <div class="concept-flow-line" role="img" aria-label="Client to gateway to write-ahead log service to compactor to indexes">
    <div class="concept-node">Client</div>
    <div class="concept-link"><span class="concept-pulse"></span></div>
    <div class="concept-node">Gateway</div>
    <div class="concept-link"><span class="concept-pulse"></span></div>
    <div class="concept-node">WAL Service</div>
    <div class="concept-link"><span class="concept-pulse"></span></div>
    <div class="concept-node">Compactor</div>
    <div class="concept-link"><span class="concept-pulse"></span></div>
    <div class="concept-node">Indexes</div>
  </div>
  <p class="concept-flow-note">In distributed Chroma, writes are acknowledged after WAL durability. Compaction materializes new index versions in the background.</p>
</div>

<h4 id="query-path-get-query-search">Query Path (Get / Query / Search)<a class="headerlink" href="#query-path-get-query-search" title="Permanent link">&para;</a></h4>
<div class="concept-flow-card">
  <div class="concept-flow-header">
    <span class="concept-flow-title">Query Path</span>
    <span class="concept-flow-badge">Cloud/distributed: index + WAL consistency</span>
  </div>
  <div class="concept-flow-line" role="img" aria-label="Client to gateway to query executor to filter and plan to vector, full-text, and metadata indexes to ranked results">
    <div class="concept-node">Client</div>
    <div class="concept-link"><span class="concept-pulse"></span></div>
    <div class="concept-node">Gateway</div>
    <div class="concept-link"><span class="concept-pulse"></span></div>
    <div class="concept-node">Query Engine</div>
    <div class="concept-link"><span class="concept-pulse"></span></div>
    <div class="concept-node">Filter + Plan</div>
    <div class="concept-link"><span class="concept-pulse"></span></div>
    <div class="concept-node">Vector / FTS / Metadata</div>
    <div class="concept-link"><span class="concept-pulse"></span></div>
    <div class="concept-node">Ranked Results</div>
  </div>
  <p class="concept-flow-note">In distributed Chroma, strongly consistent reads combine indexed state with recent WAL state.</p>
</div>

<p>The detailed query pipeline is described in <a href="../advanced/queries/">Advanced Queries</a>.</p>
<p>Implementation-level (code-backed) local-vs-distributed query diagrams are in the <a href="#for-power-users">For Power Users</a> section below.</p>
<h2 id="for-power-users">For Power Users<a class="headerlink" href="#for-power-users" title="Permanent link">&para;</a></h2>
<p>This section is a code-oriented map of distributed Chroma, based on the Rust workspace (<code>rust/</code>) and the distributed architecture docs.</p>
<h3 id="execution-paths-code-backed">Execution Paths (Code-Backed)<a class="headerlink" href="#execution-paths-code-backed" title="Permanent link">&para;</a></h3>
<p>These diagrams are traced from the Rust frontend/segment/log implementation (<code>rust/frontend</code>, <code>rust/segment</code>, <code>rust/log</code>).</p>
<h4 id="interactive-local-query-path-single-node-sqlite-hnsw">Interactive Local Query Path (Single-Node SQLite + HNSW)<a class="headerlink" href="#interactive-local-query-path-single-node-sqlite-hnsw" title="Permanent link">&para;</a></h4>
<div class="concept-query-card" data-concept-pipeline>
  <div class="concept-query-header">
    <span class="concept-query-title">Interactive Local Query Pipeline</span>
    <span class="concept-query-badge">Single-node: SQLite + HNSW Local</span>
  </div>
  <p class="concept-query-help">Click any stage to inspect what happens in the local executor path. First read triggers backfill/purge into local metadata + HNSW segments.</p>

  <div class="concept-query-diagram" role="group" aria-label="Interactive local query pipeline for single-node Chroma">
    <button class="concept-query-node concept-query-node--main concept-query-stage-validation is-active" type="button" data-stage="local_validation" data-title="Validation + Segment Resolve" data-service="FrontendServer + ServiceBasedFrontend" data-description="Request validation/auth happens in frontend, then collection + segment ids are resolved before plan execution." data-related="">Validation + Resolve</button>
    <div class="concept-query-down concept-query-down--1" aria-hidden="true"></div>

    <button class="concept-query-node concept-query-node--main concept-query-stage-prefilter" type="button" data-stage="local_metadata_prefilter" data-title="Metadata Pre-Filter" data-service="LocalExecutor + SqliteMetadataReader" data-description="Filter predicates are executed against the SQLite metadata segment to narrow candidate user ids." data-related="local_prefilter_get,local_sqlite_meta_prefilter">Metadata Pre-Filter</button>
    <div class="concept-query-call concept-query-call--prefilter" data-edge="local_prefilter_get" aria-hidden="true">
      <span class="concept-query-call-label">get</span>
      <span class="concept-query-call-arrow"></span>
    </div>
    <button class="concept-query-node concept-query-node--remote concept-query-stage-meta-a" type="button" data-stage="local_sqlite_meta_prefilter" data-title="SQLite Metadata Segment" data-service="SqliteMetadataReader" data-description="Rows are read from local SQLite metadata tables for candidate selection." data-related="local_prefilter_get,local_metadata_prefilter">SQLite Metadata</button>

    <div class="concept-query-down concept-query-down--2" aria-hidden="true"></div>
    <button class="concept-query-node concept-query-node--main concept-query-stage-knn" type="button" data-stage="local_knn_search" data-title="KNN Search" data-service="LocalExecutor + LocalSegmentManager" data-description="LocalExecutor gets an HNSW reader and runs ANN query over local vector data." data-related="local_knn_query,local_hnsw_segment">KNN Search</button>
    <div class="concept-query-call concept-query-call--knn" data-edge="local_knn_query" aria-hidden="true">
      <span class="concept-query-call-label">query</span>
      <span class="concept-query-call-arrow"></span>
    </div>
    <button class="concept-query-node concept-query-node--remote concept-query-stage-hnsw" type="button" data-stage="local_hnsw_segment" data-title="HNSW Local Persisted Segment" data-service="LocalHnswSegmentReader" data-description="ANN neighbors are retrieved from the local HNSW persisted segment." data-related="local_knn_query,local_knn_search">HNSW Local</button>

    <div class="concept-query-down concept-query-down--3" aria-hidden="true"></div>
    <button class="concept-query-node concept-query-node--main concept-query-stage-fetch" type="button" data-stage="local_metadata_fetch" data-title="Metadata Fetch" data-service="LocalExecutor + SqliteMetadataReader" data-description="Top ids are hydrated with document + metadata via a second local SQLite metadata read." data-related="local_fetch_get,local_sqlite_meta_fetch">Metadata Fetch</button>
    <div class="concept-query-call concept-query-call--fetch" data-edge="local_fetch_get" aria-hidden="true">
      <span class="concept-query-call-label">get</span>
      <span class="concept-query-call-arrow"></span>
    </div>
    <button class="concept-query-node concept-query-node--remote concept-query-stage-meta-b" type="button" data-stage="local_sqlite_meta_fetch" data-title="SQLite Metadata Hydration" data-service="SqliteMetadataReader" data-description="Local SQLite metadata/document payloads are loaded for final response assembly." data-related="local_fetch_get,local_metadata_fetch">SQLite Metadata</button>

    <div class="concept-query-down concept-query-down--4" aria-hidden="true"></div>
    <button class="concept-query-node concept-query-node--main concept-query-stage-result" type="button" data-stage="local_result_aggregation" data-title="Result Aggregation" data-service="ServiceBasedFrontend" data-description="Query response payload is assembled and returned to the client." data-related="">Result Aggregation</button>
  </div>

  <div class="concept-query-detail" aria-live="polite">
    <p class="concept-query-detail-label">Selected stage</p>
    <p class="concept-query-detail-title" data-pipeline-detail-title>Validation + Segment Resolve</p>
    <p class="concept-query-detail-service"><strong>Service:</strong> <span data-pipeline-detail-service>FrontendServer + ServiceBasedFrontend</span></p>
    <p class="concept-query-detail-text" data-pipeline-detail-text>Request validation/auth happens in frontend, then collection + segment ids are resolved before plan execution.</p>
  </div>
</div>

<h4 id="distributed-frontend-dispatch-path-cloud">Distributed Frontend Dispatch Path (Cloud)<a class="headerlink" href="#distributed-frontend-dispatch-path-cloud" title="Permanent link">&para;</a></h4>
<div class="concept-flow-card">
  <div class="concept-flow-header">
    <span class="concept-flow-title">Distributed Query Path in Frontend</span>
    <span class="concept-flow-badge">Cloud: frontend dispatches, workers execute</span>
  </div>
  <div class="concept-flow-line concept-flow-line--dense" role="img" aria-label="Client to frontend api to resolver and executor to query worker over gRPC to worker indexes to results">
    <div class="concept-node">Client</div>
    <div class="concept-link"><span class="concept-pulse"></span></div>
    <div class="concept-node">Frontend API</div>
    <div class="concept-link"><span class="concept-pulse"></span></div>
    <div class="concept-node">Resolver + Executor</div>
    <div class="concept-link"><span class="concept-pulse"></span></div>
    <div class="concept-node">gRPC Query Worker</div>
    <div class="concept-link"><span class="concept-pulse"></span></div>
    <div class="concept-node">Worker Indexes</div>
    <div class="concept-link"><span class="concept-pulse"></span></div>
    <div class="concept-node">Results</div>
  </div>
  <p class="concept-flow-note">In distributed mode, frontend routes Knn/Get/Search plans to query workers over gRPC. Worker-side execution uses distributed segment/index types (HnswDistributed or Spann with blockfile segments), not frontend-local SQLite + HNSW providers.</p>
</div>

<p>Code references for the two paths:</p>
<ul>
<li>Local segment types on collection create: <a href="https://github.com/chroma-core/chroma/blob/main/rust/frontend/src/impls/service_based_frontend.rs"><code>Executor::Local</code> creates <code>HnswLocalPersisted</code> + <code>Sqlite</code></a></li>
<li>Local query execution: <a href="https://github.com/chroma-core/chroma/blob/main/rust/frontend/src/executor/local.rs"><code>LocalExecutor</code> uses <code>SqliteMetadataReader</code> + <code>LocalSegmentManager::get_hnsw_reader</code></a></li>
<li>Distributed query execution: <a href="https://github.com/chroma-core/chroma/blob/main/rust/frontend/src/executor/distributed.rs"><code>DistributedExecutor</code> dispatches <code>knn/get/search</code> via gRPC query clients</a></li>
</ul>
<h3 id="distributed-architecture-main-services">Distributed Architecture (Main Services)<a class="headerlink" href="#distributed-architecture-main-services" title="Permanent link">&para;</a></h3>
<ul>
<li>Gateway / frontend API service: <code>rust/frontend</code> (<a href="https://github.com/chroma-core/chroma/blob/main/rust/frontend/src/server.rs">server</a>)</li>
<li>Query executor service: <code>rust/worker</code> (<a href="https://github.com/chroma-core/chroma/blob/main/rust/worker/src/lib.rs">query entrypoint</a>, <a href="https://github.com/chroma-core/chroma/blob/main/rust/worker/src/server.rs">query server</a>)</li>
<li>Compaction service: <code>rust/worker</code> (<a href="https://github.com/chroma-core/chroma/blob/main/rust/worker/src/execution/orchestration/compact.rs">compaction orchestrator</a>)</li>
<li>Write-ahead log: <code>rust/wal3</code> (<a href="https://github.com/chroma-core/chroma/blob/main/rust/wal3/README.md">design README</a>)</li>
<li>Garbage collector service: <code>rust/garbage_collector</code> (<a href="https://github.com/chroma-core/chroma/blob/main/rust/garbage_collector/src/garbage_collector_orchestrator_v2.rs">orchestrator</a>)</li>
</ul>
<p>See also the official architecture doc: <a href="https://github.com/chroma-core/chroma/blob/main/docs/mintlify/docs/overview/architecture.mdx">Distributed Chroma Architecture</a>.</p>
<h3 id="main-primitives-and-index-families">Main Primitives and Index Families<a class="headerlink" href="#main-primitives-and-index-families" title="Permanent link">&para;</a></h3>
<p>At the segment/type level (<code>rust/types/src/segment.rs</code>), distributed Chroma uses segment types such as:</p>
<ul>
<li><code>BlockfileMetadata</code>, <code>BlockfileRecord</code></li>
<li><code>HnswDistributed</code></li>
<li><code>Spann</code>, <code>QuantizedSpann</code></li>
<li><code>Sqlite</code></li>
</ul>
<p>And at the index crate level (<code>rust/index/src</code>), major families include:</p>
<ul>
<li>Vector ANN: <code>hnsw</code>, <code>spann</code>, <code>quantized_spann</code></li>
<li>Full text: <code>fulltext</code></li>
<li>Metadata: <code>metadata</code></li>
<li>Sparse retrieval support: <code>sparse</code></li>
</ul>
<h3 id="spann-in-distributed-chroma">SPANN in Distributed Chroma<a class="headerlink" href="#spann-in-distributed-chroma" title="Permanent link">&para;</a></h3>
<p>Core implementation: <code>rust/index/src/spann/types.rs</code>.</p>
<p>Operationally, SPANN combines:</p>
<ul>
<li>a head/center ANN structure (HNSW over centers)</li>
<li>posting lists keyed by center/head id (blockfile-backed)</li>
<li>a versions map (<code>doc_offset_id -&gt; version</code>) to filter stale entries</li>
<li>a persisted <code>max_head_id</code> for deterministic head allocation across compactions</li>
</ul>
<p>The write-side behavior includes:</p>
<ul>
<li>add/update/delete on posting lists and versions map</li>
<li>splitting oversized posting lists into new heads</li>
<li>reassigning points to nearby heads after split/merge operations</li>
<li>optional garbage collection policies:</li>
<li>posting-list random-sample cleanup</li>
<li>HNSW full rebuild or delete-percentage-triggered rebuild</li>
</ul>
<h3 id="blockfile-format-and-update-model">Blockfile Format and Update Model<a class="headerlink" href="#blockfile-format-and-update-model" title="Permanent link">&para;</a></h3>
<p>Core implementation: <code>rust/blockstore/src/arrow</code>.</p>
<p>Production blockfiles are Arrow-backed and use:</p>
<ul>
<li>immutable blocks for persisted data</li>
<li>an in-memory sparse index mapping key ranges to block ids</li>
<li>writer-side deltas for mutation batching (<code>set</code>/<code>delete</code>)</li>
<li>copy-on-write for updates via <code>fork(...)</code></li>
</ul>
<p>Update lifecycle:</p>
<ol>
<li>Writer mutates deltas and may split blocks when over target block size.</li>
<li>Sparse index is updated to point at new block ids.</li>
<li><code>commit()</code> converts deltas into immutable blocks and prepares a flusher.</li>
<li><code>flush()</code> persists blocks, then atomically persists root metadata/sparse index.</li>
</ol>
<p>Relevant code:</p>
<ul>
<li><a href="https://github.com/chroma-core/chroma/blob/main/rust/blockstore/src/arrow/provider.rs">provider</a></li>
<li><a href="https://github.com/chroma-core/chroma/blob/main/rust/blockstore/src/arrow/blockfile.rs">blockfile writer</a></li>
<li><a href="https://github.com/chroma-core/chroma/blob/main/rust/blockstore/src/arrow/flusher.rs">flusher</a></li>
<li><a href="https://github.com/chroma-core/chroma/blob/main/rust/blockstore/src/arrow/root.rs">root + sparse index</a></li>
</ul>
<h3 id="compaction-and-registration">Compaction and Registration<a class="headerlink" href="#compaction-and-registration" title="Permanent link">&para;</a></h3>
<p>Compaction in distributed mode (<code>rust/worker/src/execution/orchestration/compact.rs</code>) follows an explicit staged flow:</p>
<ul>
<li>fetch and materialize logs</li>
<li>apply to segment writers (record/metadata/vector)</li>
<li>commit and flush segment artifacts</li>
<li>register new segment metadata and offsets in sysdb/log metadata</li>
</ul>
<p>This is the core bridge from WAL durability to read-optimized segment versions.</p>
<h3 id="garbage-collection-index-files-wal">Garbage Collection (Index Files + WAL)<a class="headerlink" href="#garbage-collection-index-files-wal" title="Permanent link">&para;</a></h3>
<p>Two GC tracks run in the Rust implementation:</p>
<ul>
<li>Segment/index artifact GC in <code>rust/garbage_collector</code>:</li>
<li>construct collection version graph (including fork dependencies)</li>
<li>compute versions to delete using cutoff + min-versions retention</li>
<li>compute unreferenced files and clean up (dry-run / rename / delete)</li>
<li>WAL GC in <code>wal3</code>:</li>
<li>three-phase GC dance (compute garbage, manifest synchronization, delete)</li>
<li>cursor-driven safety so required log ranges remain pinned</li>
</ul>
<p>Relevant code:</p>
<ul>
<li><a href="https://github.com/chroma-core/chroma/blob/main/rust/garbage_collector/src/construct_version_graph_orchestrator.rs">version graph construction</a></li>
<li><a href="https://github.com/chroma-core/chroma/blob/main/rust/garbage_collector/src/operators/compute_versions_to_delete_from_graph.rs">version deletion policy</a></li>
<li><a href="https://github.com/chroma-core/chroma/blob/main/rust/garbage_collector/src/operators/delete_unused_files.rs">unused file cleanup</a></li>
<li><a href="https://github.com/chroma-core/chroma/blob/main/rust/garbage_collector/src/operators/delete_unused_logs.rs">unused WAL cleanup</a></li>
</ul>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="February 19, 2026 15:30:54 UTC">February 19, 2026</span>
  </span>

    
    
    
    
  </aside>


  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Amikos Tech LTD, 2025 (Chroma contributors)
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/chroma-core/chroma" target="_blank" rel="noopener" title="Chroma on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://twitter.com/trychroma" target="_blank" rel="noopener" title="Chroma on Twitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg>
    </a>
  
    
    
    
    
    <a href="https://github.com/amikos-tech" target="_blank" rel="noopener" title="Amikos on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://medium.com/@amikostech" target="_blank" rel="noopener" title="Amikos on Medium" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M369.4 32c43.4 0 78.6 35.2 78.6 78.6v83.8c-1.9-.1-3.8-.2-5.7-.2h-.4c-10 0-22.3 2.4-31.1 6.8-10 4.6-18.7 11.5-26 20.6-11.8 14.6-18.9 34.3-20.6 56.4-.1.7-.1 1.3-.2 2s-.1 1.2-.1 1.9c-.1 1.2-.1 2.4-.1 3.6 0 1.9-.1 3.8 0 5.8 1.2 50.1 28.2 90.2 76.3 90.2 2.7 0 5.3-.1 7.9-.4v20.4c0 43.4-35.2 78.6-78.6 78.6L78.6 480C35.2 480 0 444.8 0 401.4V110.6C0 67.2 35.2 32 78.6 32zM82.3 138.9l.3.1c13.2 3 19.8 7.4 19.8 23.4v187.2c0 16-6.7 20.4-19.9 23.4l-.3.1v2.8H135v-2.8l-.3-.1c-13.2-3-19.9-7.4-19.9-23.4V173.3l86.1 202.5h4.9l88.6-208.2v186.6c-1.1 12.6-7.8 16.5-19.7 19.2l-.3.1v2.7h91.9v-2.7l-.3-.1c-11.9-2.7-18.7-6.6-19.9-19.2l-.1-191.8h.1c0-16 6.7-20.4 19.9-23.4l.3-.1v-2.7h-72.2l-67 157.4-67-157.4H82.3zM448 340.3c-25.1-7.4-43-35.1-41.2-67.8h41.1v67.8zm-6.4-135.6c2.3 0 4.4.3 6.4.9V263h-40.2c1.5-33.6 13.6-57.9 33.8-58.3"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  


<h4>Cookie consent</h4>
<p>We use cookies for analytics purposes. By continuing to use this website, you agree to their use.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="analytics" checked>
      <span class="task-list-indicator"></span>
      Google Analytics
    </label>
  </li>

      
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="github" checked>
      <span class="task-list-indicator"></span>
      GitHub
    </label>
  </li>

      
    
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["content.code.annotate", "content.code.copy", "navigation.instant", "navigation.instant.progress", "navigation.tracking", "navigation.indexes"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../javascripts/gtag.js"></script>
      
        <script src="../../javascripts/ethicalads-init.js"></script>
      
        <script src="../../javascripts/concepts-pipeline.js"></script>
      
    
  </body>
</html>